(function(t){function e(e){for(var s,r,a=e[0],p=e[1],u=e[2],l=0,d=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(s in p)Object.prototype.hasOwnProperty.call(p,s)&&(t[s]=p[s]);c&&c(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],s=!0,a=1;a<o.length;a++){var p=o[a];0!==i[p]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=o[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=s,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(o,s,function(e){return t[e]}.bind(null,s));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],p=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var c=p;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},2447:function(t,e,o){t.exports=o.p+"img/search.9cd482e1.svg"},"56d7":function(t,e,o){"use strict";o.r(e);o("e623"),o("e379"),o("5dc8"),o("37e1");var s=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("notifications"),o("header-component",{attrs:{loggedIn:t.loggedIn,username:t.getUserName,userId:t.getUserId}}),o("points-list-component",{attrs:{loggedIn:t.loggedIn,username:t.getUserName,userId:t.getUserId}}),o("points-component",{attrs:{loggedIn:t.loggedIn,username:t.getUserName,userId:t.getUserId}}),o("route-component",{attrs:{loggedIn:t.loggedIn}})],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"root_header"},[t.isLoginPopUpVisible?s("login-popup",{on:{closePopup:t.closePopUp}}):t._e(),t.isSignUpPopUpVisible?s("signup-popup",{on:{closePopup:t.closePopUp}}):t._e(),s("div",{staticClass:"header"},[s("div",{staticClass:"header__title block_header_font_size"},[s("div",{staticClass:"header__title_name"},[t._v(t._s(this.$constants.TITLE))]),s("div",{staticClass:"header__title_version"},[t._v("v."+t._s(this.$constants.VERSION))])]),t.loggedIn?s("div",{staticClass:"header__user"},[s("div",{staticClass:"header__user_name"},[t._v(t._s(t.username))]),s("img",{staticClass:"header__user__logout_icon cp",attrs:{src:o("920c")},on:{click:t.logOut}})]):s("div",{staticClass:"header__auth"},[s("ul",[s("li",[s("a",{staticClass:"header__auth__signin-popup-show",on:{click:t.showLoginPopup}},[t._v("SIGN IN")])]),s("li",[s("a",{staticClass:"header__auth__signup-popup-show",on:{click:t.showSignUpPopup}},[t._v("SIGN UP")])])])])])],1)},a=[],p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login_popup_root"},[o("notifications"),o("div",{ref:"popup_wrapper",staticClass:"popup_dark_wrapper"},[o("div",{staticClass:"login_popup popup"},[o("div",{staticClass:"login_popup__header popup_header"},[t._v(" LOG IN ")]),o("div",{staticClass:"login_popup__form"},[o("div",{staticClass:"login_popup__form__fields"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.login,expression:"form.login",modifiers:{trim:!0}}],staticClass:"login_popup__form__fields_login popup_field",attrs:{type:"text",placeholder:"Login"},domProps:{value:t.form.login},on:{input:function(e){e.target.composing||t.$set(t.form,"login",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.password,expression:"form.password",modifiers:{trim:!0}}],staticClass:"login_popup__form__fields_password popup_field",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),o("div",{staticClass:"login_popup__form__button"},[o("input",{staticClass:"login_popup__form__button_submit cp popup_button",attrs:{type:"submit",value:"Go"},on:{click:t.logIn}})])])])])],1)},u=[],c=o("1da1"),l=(o("96cf"),o("e9c4"),o("1dce")),d=o("b5ae"),_={name:"LoginPopup",props:{},mixins:[l["validationMixin"]],data:function(){return{form:{login:"",password:""}}},validations:{form:{login:{required:d["required"]},password:{required:d["required"]}}},computed:{},methods:{closePopUp:function(){this.$emit("closePopup")},logIn:function(){var t=this;this.$v.form.$touch(),this.$v.form.$error?this.$notifyError("Probably some field is empty. They are all is required"):this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.users.logIn({username:t.form.login,password:t.form.password});case 2:o=e.sent.data,localStorage.setItem("user",JSON.stringify(o.user)),localStorage.setItem("token",o.user.token),t.$store.dispatch("setUser",JSON.stringify(o.user)),t.$store.dispatch("setToken",o.user.token),t.$notifySuccess("You are logged in successfully"),t.closePopUp();case 9:case"end":return e.stop()}}),e)}))))}},mounted:function(){var t=this;document.addEventListener("click",(function(e){e.target==t.$refs["popup_wrapper"]&&t.closePopUp()}))}},m=_,f=o("2877"),v=Object(f["a"])(m,p,u,!1,null,null,null),h=v.exports,g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"signup_popup_root"},[o("notifications"),o("div",{ref:"popup_wrapper",staticClass:"popup_dark_wrapper"},[o("div",{staticClass:"signup_popup popup"},[o("div",{staticClass:"signup_popup__header popup_header"},[t._v(" SIGN UP ")]),o("div",{staticClass:"signup_popup__form"},[o("div",{staticClass:"signup_popup__form__fields"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.login,expression:"form.login",modifiers:{trim:!0}}],staticClass:"signup_popup__form__fields_signup popup_field",attrs:{type:"text",placeholder:"Login"},domProps:{value:t.form.login},on:{input:function(e){e.target.composing||t.$set(t.form,"login",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.password,expression:"form.password",modifiers:{trim:!0}}],staticClass:"signup_popup__form__fields_password popup_field",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.passwordAgain,expression:"form.passwordAgain",modifiers:{trim:!0}}],staticClass:"signup_popup__form__fields_password_again popup_field",attrs:{type:"password",placeholder:"Password Again"},domProps:{value:t.form.passwordAgain},on:{input:function(e){e.target.composing||t.$set(t.form,"passwordAgain",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),o("div",{staticClass:"signup_popup__form__button"},[o("input",{staticClass:"signup_popup__form__button_submit cp popup_button",attrs:{type:"submit",value:"Go"},on:{click:t.signUp}})])])])])],1)},b=[],C={mixins:[l["validationMixin"]],name:"SignupPopup",props:{},data:function(){return{form:{login:"",password:"",passwordAgain:""}}},validations:{form:{login:{required:d["required"]},password:{required:d["required"]},passwordAgain:{passEqualsValidate:function(t){return t==this.form.password},required:d["required"]}}},computed:{},methods:{closePopUp:function(){this.$emit("closePopup")},signUp:function(){var t=this;this.$v.form.$touch(),this.$v.form.passwordAgain.$dirty&&!this.$v.form.passwordAgain.passEqualsValidate?this.$notifyError("A passwords does not match"):this.$v.form.$error?this.$notifyError("Probably some field is empty. They are all is required"):this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.users.signUp({username:t.form.login,password:t.form.password});case 2:t.$notifySuccess("A user has been created successfully. Now you are able to log in."),t.closePopUp();case 4:case"end":return e.stop()}}),e)}))))}},mounted:function(){var t=this;document.addEventListener("click",(function(e){e.target==t.$refs["popup_wrapper"]&&t.closePopUp()}))}},w=C,y=Object(f["a"])(w,g,b,!1,null,null,null),$=y.exports,P={components:{LoginPopup:h,SignupPopup:$},name:"HeaderComponent",props:["loggedIn","username","userId"],data:function(){return{isLoginPopUpVisible:!1,isSignUpPopUpVisible:!1}},methods:{showLoginPopup:function(){this.isLoginPopUpVisible=!0},showSignUpPopup:function(){this.isSignUpPopUpVisible=!0},closePopUp:function(){this.isLoginPopUpVisible=!1,this.isSignUpPopUpVisible=!1},logOut:function(){this.$store.dispatch("deleteToken"),this.$store.dispatch("deleteUser")}}},x=P,k=Object(f["a"])(x,r,a,!1,null,"39f47389",null),U=k.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"root_points"},[s("div",{staticClass:"points"},[s("div",{staticClass:"points__header"},[s("div",{staticClass:"points__header_title block_header_font_size"},[t._v("Points")]),s("div",{staticClass:"points__header__btns"},[s("div",{staticClass:"points__header__btns__findall flex_nowrap cp"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.searchInput,expression:"form.searchInput"}],staticClass:"points__header__btns__findall_input",attrs:{type:"text",name:"",id:"",placeholder:"Name, Author"},domProps:{value:t.form.searchInput},on:{input:function(e){e.target.composing||t.$set(t.form,"searchInput",e.target.value)}}}),s("img",{staticClass:"points__header__btns_search-icon points__header__btn_ico",attrs:{src:o("2447"),alt:"Find by"},on:{click:t.searchPoints}}),s("div",{staticClass:"points__header__btns__findall_text points__header__btn_txt",on:{click:t.loadAllPoints}},[t._v("Search all")])])])]),s("div",{staticClass:"points__body"},[t.points.length>0?s("div",{staticClass:"points__body_wrapper"},t._l(t.points,(function(e,o){return s("div",{key:o},[s("div",{staticClass:"points__body__point"},[s("point-component",{attrs:{pointId:e.id,pointName:e.name,authorId:e.user_id,authorName:e.author_name,coordX:e.x,coordY:e.y,enabledDesciprion:!1}}),s("div",{staticClass:"points__body__point__name",attrs:{title:e.name}},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"points__body__point__coord flex_nowrap"},[s("div",{staticClass:"points__body__point__coord_name"},[t._v("X")]),s("div",{staticClass:"points__body__point__coord_value point_coord_value"},[t._v(t._s(e.x))])]),s("div",{staticClass:"points__body__point__coord flex_nowrap"},[s("div",{staticClass:"points__body__point__coord_name"},[t._v("Y")]),s("div",{staticClass:"points__body__point__coord_value point_coord_value"},[t._v(t._s(e.y))])]),s("div",{staticClass:"points__body__point__author"},[t._v(t._s(e.author_name))])],1)])})),0):s("div",{staticClass:"points__body__nothing"},[t._v(" Nothing here yet :) ")])])])])},E=[],S=(o("d81d"),o("a434"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"root_point"},[o("div",{staticClass:"point cp",style:{backgroundColor:t.randomColor()},on:{click:function(e){return t.showPointDetail()}}},[o("p",{staticClass:"point__letter"},[t._v(t._s(t.pointId))]),t.enabledDesciprion?o("div",{staticClass:"point__description",class:{point__description_visible:t.showDescription}},[o("div",{staticClass:"point__description_author"},[t._v(t._s(t.authorName))]),o("div",{staticClass:"point__description_name",attrs:{title:t.pointName}},[t._v(t._s(t.pointName))]),o("div",{staticClass:"point__description_points"},[o("div",[o("div",{staticClass:"point__description_point"},[o("div",{staticClass:"point__description_points_coord_name"},[t._v("X")]),o("div",{staticClass:"point__description_point_coord_value point_coord_value"},[t._v(t._s(t.coordX))])]),o("div",{staticClass:"point__description_point"},[o("div",{staticClass:"point__description_points_coord_name"},[t._v("Y")]),o("div",{staticClass:"point__description_point_coord_value point_coord_value"},[t._v(t._s(t.coordY))])])]),o("div",[o("div",{staticClass:"point__description__point__delete",on:{click:t.deletePoint}},[t._v("Delete")])])])]):t._e()])])}),O=[],R={name:"PointComponent",props:["pointId","pointName","authorId","authorName","coordX","coordY","enabledDesciprion"],data:function(){return{pointBgColors:["#8790FF","#A7ADFF","#5F6BFF","#656CBF","#1F29A6","#8560BF","#521CA6","#9856FF","#B280FF","#C6A2FF","#5D9BBF","#1A72A6","#50BEFF","#50BEFF","#9EDBFF","#BFA357","#A68016","#FFCD45","#FFDA74","#FFE499"],showDescription:!1}},methods:{randomColor:function(){var t=Math.floor(Math.random()*this.pointBgColors.length);return this.pointBgColors[t]},showPointDetail:function(){this.showDescription=!this.showDescription},deletePoint:function(){var t=this;this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.points.deletePointById(t.pointId);case 2:window.location.reload(),t.$notifySuccess("This point were successfully deleted.");case 4:case"end":return e.stop()}}),e)}))))}}},A=R,N=Object(f["a"])(A,S,O,!1,null,"7383f2f3",null),T=N.exports,j={components:{PointComponent:T},name:"PointsComponent",data:function(){return{points:[],form:{searchInput:""}}},created:function(){var t=this;this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.points.pointsList();case 2:o=e.sent.data,t.points=o.results;case 4:case"end":return e.stop()}}),e)}))))},methods:{deletePoint:function(t){var e=this.points.map((function(t){return t.id})).indexOf(t);this.points.splice(e,1)},searchPoints:function(){var t=this;""!=this.form.searchInput&&this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.points.pointsListLookup(t.form.searchInput);case 2:o=e.sent.data,console.log(o),t.points=o.results;case 5:case"end":return e.stop()}}),e)}))))},loadAllPoints:function(){var t=this;this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.points.pointsList();case 2:o=e.sent.data,t.points=o.results;case 4:case"end":return e.stop()}}),e)}))))}}},L=j,F=Object(f["a"])(L,I,E,!1,null,"9749633a",null),B=F.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"root_points-list"},[t.loggedIn?s("div",{staticClass:"points-list"},[t.isCreatePointPopUpVisible?s("create-point-popup",{on:{closePopup:t.closePopUp}}):t._e(),s("div",{staticClass:"points-list__header"},[s("div",{staticClass:"points-list__header_title"},[t._v("My points")]),s("div",{staticClass:"points__header__btns flex_nowrap cp"},[s("div",{staticClass:"points__header__btns__create flex_nowrap cp"},[s("div",{staticClass:"points__header__btns__interact_text points__header__btn_txt",on:{click:t.showCreatePointPopUp}},[t._v("Create a point")]),s("img",{staticClass:"points__header__btns_add-icon points__header__btn_ico",attrs:{src:o("7393"),alt:""},on:{click:t.showCreatePointPopUp}})])])]),s("div",{staticClass:"points-list__body"},[t.points.length>0?s("div",{staticClass:"points-list__body-points"},t._l(t.points,(function(t,e){return s("div",{key:e,staticClass:"points-list__body-points-point"},[s("point-component",{attrs:{pointId:t.id,pointName:t.name,authorId:t.user_id,authorName:t.author_name,coordX:t.x,coordY:t.y,enabledDesciprion:!0}})],1)})),0):s("div",{staticClass:"points__body__nothing"},[t._v(" Nothing here yet :) ")])])],1):t._e()])},q=[],M=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"create_point_popup_root"},[o("notifications"),o("div",{ref:"popup_wrapper",staticClass:"popup_dark_wrapper"},[o("div",{staticClass:"create_point_popup popup"},[o("div",{staticClass:"create_point_popup__header popup_header"},[t._v(" NEW POINT ")]),o("div",{staticClass:"create_point_popup__form popup_form"},[o("div",{staticClass:"create_point_popup__fields"},[o("div",{staticClass:"create_point_popup__fields__name"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.name,expression:"form.name",modifiers:{trim:!0}}],staticClass:"create_point_popup__fields__name_name popup_field",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),o("div",{staticClass:"create_point_popup__fields__coordinates"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.x,expression:"form.x",modifiers:{trim:!0}}],staticClass:"create_point_popup__fields__coordinates_x point_coord_field",attrs:{type:"text",placeholder:"X"},domProps:{value:t.form.x},on:{input:function(e){e.target.composing||t.$set(t.form,"x",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.y,expression:"form.y",modifiers:{trim:!0}}],staticClass:"create_point_popup__fields__coordinates_y point_coord_field",attrs:{type:"text",placeholder:"Y"},domProps:{value:t.form.y},on:{input:function(e){e.target.composing||t.$set(t.form,"y",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),o("div",{staticClass:"create_point_popup__fields__button"},[o("input",{staticClass:"create_point_popup__fields__button cp popup_button",attrs:{type:"submit",value:"Create"},on:{click:t.createPoint}})])])])])])],1)},V=[],Y=(o("b0c0"),{name:"CreatePointPopup",mixins:[l["validationMixin"]],props:{},data:function(){return{form:{name:"",x:null,y:null}}},validations:{form:{name:{required:d["required"]},x:{required:d["required"],numeric:d["numeric"]},y:{required:d["required"],numeric:d["numeric"]}}},computed:{},methods:{closePopUp:function(){this.$emit("closePopup")},createPoint:function(){var t=this;this.$v.form.$touch(),this.$v.form.$error?this.$v.form.x.$dirty&&!this.$v.form.x.numeric?this.$notifyError("The X property should be only numeric"):this.$v.form.y.$dirty&&!this.$v.form.y.numeric?this.$notifyError("The Y property should be only numeric"):this.$notifyError("Probably some field is empty. They are all is required"):this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.points.pointAdd({name:t.form.name,x:t.form.x,y:t.form.y});case 2:t.closePopUp(),window.location.reload(),t.$notifySuccess("The point were created successfully.");case 5:case"end":return e.stop()}}),e)}))))}},mounted:function(){var t=this;document.addEventListener("click",(function(e){e.target==t.$refs["popup_wrapper"]&&t.closePopUp()}))}}),X=Y,G=Object(f["a"])(X,M,V,!1,null,null,null),z=G.exports,J={components:{PointComponent:T,CreatePointPopup:z},name:"PointsComponent",props:["loggedIn"],data:function(){return{isCreatePointPopUpVisible:!1,points:[]}},created:function(){var t=this;this.loggedIn&&this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.points.userPointsList();case 2:o=e.sent.data,t.points=o.results;case 4:case"end":return e.stop()}}),e)}))))},methods:{showCreatePointPopUp:function(){this.isCreatePointPopUpVisible=!0},closePopUp:function(){this.isCreatePointPopUpVisible=!1},deletePoint:function(t){var e=this.points.map((function(t){return t.id})).indexOf(t);this.points.splice(e,1)}},computed:{}},K=J,H=Object(f["a"])(K,D,q,!1,null,"22f26116",null),W=H.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"root_route"},[s("div",{staticClass:"routes"},[s("div",{staticClass:"routes__header"},[s("div",{staticClass:"routes__header_title"},[t._v("Routes")]),s("div",{staticClass:"routes__header_description"},[t._v("You must provide points ids")]),s("div",{staticClass:"routes__header_buttons"},[s("div",{staticClass:"routes__header_buttons-add cp"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.id,expression:"form.id"}],staticClass:"routes__header_buttons-add_input",attrs:{type:"text",name:"",id:"",placeholder:"ID"},domProps:{value:t.form.id},on:{input:function(e){e.target.composing||t.$set(t.form,"id",e.target.value)}}}),s("img",{staticClass:"routes__header_buttons-add-btn",attrs:{src:o("8932"),alt:""},on:{click:t.addPoint}})]),t.loggedIn?s("div",{staticClass:"routes__header_buttons-autoAdd cp",on:{click:t.autoAddPoints}},[s("img",{staticClass:"routes__header_buttons-autoAdd-btn",attrs:{src:o("929a"),alt:""}}),s("div",[t._v("Auto add all created points")])]):t._e()])]),s("div",{staticClass:"routes__points-area"},t._l(t.pointsArea,(function(e,o){return s("div",{key:o,staticClass:"routes__points-area-item cp",on:{click:function(e){return t.removePointId(o)}}},[t._v(" "+t._s(e.value)+" ")])})),0),s("div",{staticClass:"routes__footer"},[s("div",{staticClass:"routes__footer_help-info"},[t._v(" Use LMB to delete added point ")]),s("div",{staticClass:"routes__footer_buttons"},[s("input",{staticClass:"routes__footer_buttons-clean cp ",attrs:{type:"submit",value:"Clean"},on:{click:t.cleanArea}}),s("input",{staticClass:"routes__footer_buttons-build-all cp popup_button",attrs:{type:"submit",value:"Build All"},on:{click:t.buildAllRoutes}}),s("input",{staticClass:"routes__footer_buttons-build-best cp popup_button",attrs:{type:"submit",value:"Build Best Way"},on:{click:t.buildBestRoute}})])]),s("div",{staticClass:"routes__routes-area"},[s("div",{staticClass:"routes__routes-area-clean"},[s("input",{staticClass:"routes__routes-area-clean-btn cp",attrs:{type:"submit",value:"Clean Routes"},on:{click:t.cleanRoutes}})]),t.showSpinner?s("atom-spinner",{attrs:{"animation-duration":1e3,size:60,color:"#ff1d5e"}}):t._e(),t._l(t.builtRoutes,(function(t,e){return s("div",{key:e,staticClass:"routes__routes-area-item"},[s("points-chain-component",{attrs:{pointList:t.route,totalDist:t.total,isBest:!1}})],1)}))],2)])])},Z=[],tt=o("b85c"),et=(o("d3b7"),o("159b"),o("4583")),ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"points-chain-root"},[o("div",{staticClass:"points-chain_block"},[o("div",{staticClass:"points-chain_block__help"},[t._v("Shift + MButton to scroll")]),o("div",{staticClass:"points-chain_block__list"},t._l(t.pointList,(function(t,e){return o("div",{key:e,staticClass:"points-chain_block__node"},[o("point-component",{attrs:{pointId:t.id,pointName:t.name,authorId:t.user_id,authorName:t.author_name,coordX:t.x,coordY:t.y,enabledDesciprion:!0}})],1)})),0),o("div",{staticClass:"points-chain_block__total"},[t.isBest?o("p",[t._v("BEST ROUTE")]):t._e(),t._v(" "+t._s(t.totalDist)+" c.u. ")])])])},st=[],it={components:{PointComponent:T},name:"PointsChainComponent",props:["pointList","totalDist","isBest"],data:function(){return{}},mounted:function(){}},nt=it,rt=Object(f["a"])(nt,ot,st,!1,null,null,null),at=rt.exports,pt={components:{PointsChainComponent:at,AtomSpinner:et["a"]},mixins:[l["validationMixin"]],name:"RouteComponent",props:["loggedIn"],data:function(){return{pointsArea:[],builtRoutes:[],form:{id:null},showSpinner:!1}},validations:{form:{id:{required:d["required"],numeric:d["numeric"]}}},methods:{cleanArea:function(){this.pointsArea=[]},cleanRoutes:function(){this.builtRoutes=[]},buildAllRoutes:function(){var t=this;this.cleanRoutes(),this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showSpinner=!0,e.next=3,t.$api.maps.routes(t.pointsArea.map((function(t){return t.value})));case 3:o=e.sent.data,t.parseMap(o);case 5:case"end":return e.stop()}}),e)}))))},parseMap:function(t){var e,o=[],s=Object(tt["a"])(t);try{for(s.s();!(e=s.n()).done;){var i,n=e.value,r=0,a=[],p=0,u=Object(tt["a"])(n);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.from),p+=c.dist,r===n.length-1&&a.push(c.to),r+=1}}catch(l){u.e(l)}finally{u.f()}o.push({route:a,total:p})}}catch(l){s.e(l)}finally{s.f()}this.builtRoutes=o,this.showSpinner=!1},parseRoute:function(t){var e,o=[],s=0,i=[],n=0,r=Object(tt["a"])(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;i.push(a.from),n+=a.dist,s===t.length-1&&i.push(a.to),s+=1}}catch(p){r.e(p)}finally{r.f()}o.push({route:i,total:n}),this.builtRoutes=o,this.showSpinner=!1},buildBestRoute:function(){var t=this;this.cleanRoutes(),this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showSpinner=!0,e.next=3,t.$api.maps.bestRoute(t.pointsArea.map((function(t){return t.value})));case 3:o=e.sent.data,t.parseRoute(o.route);case 5:case"end":return e.stop()}}),e)}))))},removePointId:function(t){this.pointsArea.splice(t,1)},addPoint:function(){this.$v.form.$touch(),this.$v.form.$error?this.$v.form.id.$dirty&&!this.$v.form.id.numeric?this.$notifyError("ID property should be numeric only"):this.$v.form.id.$dirty&&!this.$v.form.id.required&&this.$notifyError("ID Field should not be empty"):this.pointsArea.push({value:this.form.id})},autoAddPoints:function(){var t=this;this.$load(Object(c["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.points.userPointsList();case 2:o=e.sent.data,o.results.forEach((function(e){t.pointsArea.push({value:e.id})})),t.$notifySuccess("The User's point were added to area successfully.");case 5:case"end":return e.stop()}}),e)}))))}}},ut=pt,ct=Object(f["a"])(ut,Q,Z,!1,null,"baba6d50",null),lt=ct.exports,dt={name:"App",components:{HeaderComponent:U,PointsComponent:B,PointsListComponent:W,RouteComponent:lt},computed:{loggedIn:function(){return this.$store.getters.getUser?this.$store.getters.getToken:null},getUserName:function(){return this.$store.getters.getUser?JSON.parse(this.$store.getters.getUser).username:null},getUserId:function(){return this.$store.getters.getUser?JSON.parse(this.$store.getters.getUser).id:null}}},_t=dt,mt=Object(f["a"])(_t,i,n,!1,null,null,null),ft=mt.exports,vt=o("3b1b"),ht=o.n(vt),gt=(o("0c25"),o("2f62")),bt={state:{status:{loading:!0},user:localStorage.getItem("user"),token:localStorage.getItem("token")||null},getters:{getToken:function(t){return t.token},getUser:function(t){return t.user}},actions:{setToken:function(t,e){var o=t.commit;o("SET_TOKEN",e)},deleteToken:function(t){var e=t.commit;e("DELETE_TOKEN")},setUser:function(t,e){var o=t.commit;o("SET_USER",e)},deleteUser:function(t){var e=t.commit;e("DELETE_USER")}},mutations:{SET_TOKEN:function(t,e){t.token=e},DELETE_TOKEN:function(t){localStorage.removeItem("token"),t.token=localStorage.getItem("token")||null},SET_USER:function(t,e){t.user=e},DELETE_USER:function(t){localStorage.removeItem("user"),t.user=localStorage.getItem("user")||null}}};s["a"].use(gt["a"]);var Ct=new gt["a"].Store({modules:{users:bt}}),wt=(o("927c"),{install:function(t){t.prototype.$constants={TITLE:"Mapoints",VERSION:"1.0.0",DEBUG:!0}}}),yt=wt,$t=o("bc3a"),Pt=o.n($t),xt=Pt.a.create({baseURL:"https://mapoints-api.herokuapp.com/api/",withCredentials:!0,headers:{accept:"application/json"}}),kt=xt,Ut=function(t){return{signUp:function(e){return t.post("users/signup",e)},logIn:function(e){return t.post("users/login",e)},userById:function(e){var o="users/"+e;return t.get(o)}}},It=function(t){return{pointsList:function(){return t.get("points")},pointsListLookup:function(e){return t.get("points",{params:{lookup:e}})},userPointsList:function(){var e=localStorage.getItem("token");return t.get("points/my",{headers:{Authorization:"Token "+e}})},pointAdd:function(e){var o=localStorage.getItem("token");return t.post("points",e,{headers:{Authorization:"Token "+o}})},pointById:function(e){var o="points/"+e;return t.get(o)},deletePointById:function(e){var o="points/my/"+e,s=localStorage.getItem("token");return t.delete(o,{headers:{Authorization:"Token "+s}})}}},Et=(o("a15b"),function(t){return{routes:function(e){var o=e.map((function(t){return"points_ids=".concat(t)})).join("&");return t.get("maps/routes?"+o)},bestRoute:function(e){var o=e.map((function(t){return"points_ids=".concat(t)})).join("&");return t.get("maps/routes/best?"+o+"&with_total=false")}}}),St={users:Ut(kt),points:It(kt),maps:Et(kt)},Ot={install:function(t){t.prototype.$api=St}},Rt={install:function(t){t.prototype.$load=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0);try{console.error(e.t0),t.prototype.$notifyError(e.t0.response.data.detail)}catch(s){console.error(s),t.prototype.$notifyError("Happaned something unexpected. Send console log report to support team.")}case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}};s["a"].config.productionTip=!1,s["a"].use(yt),s["a"].use(ht.a),s["a"].use(Ot),s["a"].use(Rt),new s["a"]({render:function(t){return t(ft)},store:Ct}).$mount("#app")},7393:function(t,e,o){t.exports=o.p+"img/add.15e572be.svg"},8932:function(t,e,o){t.exports=o.p+"img/addPoint.687e8461.svg"},"920c":function(t,e,o){t.exports=o.p+"img/logout.963bb344.svg"},"927c":function(t,e,o){},"929a":function(t,e,o){t.exports=o.p+"img/autoAddPoint.faf1638b.svg"}});
//# sourceMappingURL=app.d4812f20.js.map